<mxfile host="app.diagrams.net" modified="2025-11-17T00:00:00.000Z" agent="Claude Code" version="24.0.0">
  <diagram name="Copilot Studio Infrastructure" id="infrastructure-diagram">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Microsoft Copilot Studio - Enterprise Infrastructure Architecture (BNZ)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- Azure Cloud Container -->
        <mxCell id="azure-cloud" value="Azure Cloud - New Zealand Region" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;strokeWidth=3;verticalAlign=top;fontSize=16;fontStyle=1;arcSize=5;" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="1520" height="1080" as="geometry" />
        </mxCell>

        <!-- Power Platform Tenant Container -->
        <mxCell id="tenant-container" value="Power Platform Tenant: BNZ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;strokeWidth=2;verticalAlign=top;fontSize=14;fontStyle=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="80" y="130" width="1440" height="980" as="geometry" />
        </mxCell>

        <!-- DEV Environment -->
        <mxCell id="dev-env" value="Environment: BNZ-CopilotStudio-DEV-NZ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;arcSize=5;" vertex="1" parent="1">
          <mxGeometry x="120" y="200" width="420" height="860" as="geometry" />
        </mxCell>

        <!-- DEV Components -->
        <mxCell id="dev-copilot" value="Copilot Studio Authoring Canvas" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#1B5E20;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="150" y="240" width="360" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dev-dataverse" value="Dataverse&#xa;(Development Data Storage)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#66BB6A;strokeColor=#1B5E20;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="150" y="330" width="160" height="100" as="geometry" />
        </mxCell>

        <mxCell id="dev-powerautomate" value="Power Automate&#xa;(Development Flows)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#1B5E20;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="350" y="330" width="160" height="100" as="geometry" />
        </mxCell>

        <mxCell id="dev-connectors" value="Custom Connectors" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#1B5E20;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="150" y="460" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dev-agents" value="Agent Definitions&#xa;(Topics, Entities, Variables)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#1B5E20;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="350" y="460" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dev-openai" value="Azure OpenAI Service&#xa;(GPT Models - NLU)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A5D6A7;strokeColor=#1B5E20;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="150" y="550" width="360" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dev-dlp" value="DLP Policies: Relaxed&#xa;(Development tools allowed)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="150" y="640" width="360" height="50" as="geometry" />
        </mxCell>

        <mxCell id="dev-users" value="Users: Makers, Developers&#xa;Purpose: Agent development &amp; testing" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;fontSize=10;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="150" y="710" width="360" height="50" as="geometry" />
        </mxCell>

        <mxCell id="dev-security" value="Security &amp; Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFECB3;strokeColor=#F57F17;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="150" y="780" width="360" height="260" as="geometry" />
        </mxCell>

        <mxCell id="dev-azuread" value="Azure AD / Entra ID&#xa;(Authentication)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="170" y="820" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dev-appinsights" value="Application Insights&#xa;(Telemetry)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="340" y="820" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dev-monitor" value="Azure Monitor&#xa;(Logging &amp; Alerts)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="170" y="900" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dev-storage" value="Azure Storage&#xa;(AES-256 Encryption)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="340" y="900" width="150" height="80" as="geometry" />
        </mxCell>

        <!-- TEST Environment -->
        <mxCell id="test-env" value="Environment: BNZ-CopilotStudio-TEST-NZ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;strokeWidth=2;verticalAlign=top;fontSize=13;fontStyle=1;arcSize=5;" vertex="1" parent="1">
          <mxGeometry x="590" y="200" width="420" height="860" as="geometry" />
        </mxCell>

        <!-- TEST Components -->
        <mxCell id="test-copilot" value="Copilot Studio (UAT Testing)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196F3;strokeColor=#0D47A1;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="620" y="240" width="360" height="60" as="geometry" />
        </mxCell>

        <mxCell id="test-dataverse" value="Dataverse&#xa;(Test Data Storage)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#42A5F5;strokeColor=#0D47A1;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="620" y="330" width="160" height="100" as="geometry" />
        </mxCell>

        <mxCell id="test-powerautomate" value="Power Automate&#xa;(Test Flows)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#42A5F5;strokeColor=#0D47A1;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="820" y="330" width="160" height="100" as="geometry" />
        </mxCell>

        <mxCell id="test-connectors" value="Custom Connectors" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="620" y="460" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="test-agents" value="Agent Definitions&#xa;(Imported Solutions)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#64B5F6;strokeColor=#0D47A1;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="820" y="460" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="test-openai" value="Azure OpenAI Service&#xa;(GPT Models - NLU)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#90CAF9;strokeColor=#0D47A1;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="620" y="550" width="360" height="60" as="geometry" />
        </mxCell>

        <mxCell id="test-dlp" value="DLP Policies: Moderate&#xa;(Production-like constraints)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="620" y="640" width="360" height="50" as="geometry" />
        </mxCell>

        <mxCell id="test-users" value="Users: Business Testers, UAT Team&#xa;Purpose: User acceptance testing" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#1565C0;fontSize=10;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="620" y="710" width="360" height="50" as="geometry" />
        </mxCell>

        <mxCell id="test-security" value="Security &amp; Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFECB3;strokeColor=#F57F17;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="620" y="780" width="360" height="260" as="geometry" />
        </mxCell>

        <mxCell id="test-azuread" value="Azure AD / Entra ID&#xa;(Authentication + MFA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="640" y="820" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="test-appinsights" value="Application Insights&#xa;(Telemetry)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="810" y="820" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="test-monitor" value="Azure Monitor&#xa;(Logging &amp; Alerts)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="640" y="900" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="test-storage" value="Azure Storage&#xa;(AES-256 Encryption)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="810" y="900" width="150" height="80" as="geometry" />
        </mxCell>

        <!-- PROD Environment -->
        <mxCell id="prod-env" value="Environment: BNZ-CopilotStudio-PROD-NZ (Managed Environment)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C62828;strokeWidth=3;verticalAlign=top;fontSize=13;fontStyle=1;arcSize=5;" vertex="1" parent="1">
          <mxGeometry x="1060" y="200" width="420" height="860" as="geometry" />
        </mxCell>

        <!-- PROD Components -->
        <mxCell id="prod-copilot" value="Copilot Studio (Production Agents)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E91E63;strokeColor=#880E4F;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1090" y="240" width="360" height="60" as="geometry" />
        </mxCell>

        <mxCell id="prod-dataverse" value="Dataverse&#xa;(Production Data)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#EC407A;strokeColor=#880E4F;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1090" y="330" width="160" height="100" as="geometry" />
        </mxCell>

        <mxCell id="prod-powerautomate" value="Power Automate&#xa;(Production Flows)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EC407A;strokeColor=#880E4F;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1290" y="330" width="160" height="100" as="geometry" />
        </mxCell>

        <mxCell id="prod-connectors" value="Custom Connectors&#xa;(Approved Only)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F06292;strokeColor=#880E4F;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1090" y="460" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="prod-agents" value="Agent Definitions&#xa;(Deployed Solutions)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F06292;strokeColor=#880E4F;fontSize=11;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1290" y="460" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="prod-openai" value="Azure OpenAI Service&#xa;(GPT Models - NLU)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8BBD0;strokeColor=#880E4F;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1090" y="550" width="360" height="60" as="geometry" />
        </mxCell>

        <mxCell id="prod-dlp" value="DLP Policies: STRICT&#xa;(Only approved connectors)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#C62828;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1090" y="640" width="360" height="50" as="geometry" />
        </mxCell>

        <mxCell id="prod-users" value="Users: End Users (Customers/Employees)&#xa;Purpose: Live production agents" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;fontSize=10;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="1090" y="710" width="360" height="50" as="geometry" />
        </mxCell>

        <mxCell id="prod-security" value="Enterprise Security &amp; Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFECB3;strokeColor=#F57F17;fontSize=11;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1090" y="780" width="360" height="260" as="geometry" />
        </mxCell>

        <mxCell id="prod-azuread" value="Azure AD / Entra ID&#xa;(MFA + Certificate Support)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1110" y="820" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="prod-appinsights" value="Application Insights&#xa;(Production Telemetry)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1280" y="820" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="prod-monitor" value="Azure Monitor&#xa;(24/7 Monitoring)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1110" y="900" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="prod-storage" value="Azure Storage&#xa;(Customer Managed Keys)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1280" y="900" width="150" height="80" as="geometry" />
        </mxCell>

        <mxCell id="prod-backup" value="Backup &amp; DR" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFD54F;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1110" y="1000" width="150" height="30" as="geometry" />
        </mxCell>

        <mxCell id="prod-audit" value="Audit Logs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFD54F;strokeColor=#F57F17;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1280" y="1000" width="150" height="30" as="geometry" />
        </mxCell>

        <!-- Deployment Pipeline Arrows -->
        <mxCell id="arrow-dev-test" value="Export Solution&#xa;(Power Platform Pipelines)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#4CAF50;fontSize=10;fontStyle=1;entryX=0;entryY=0.5;exitX=1;exitY=0.5;fillColor=#4CAF50;" edge="1" parent="1" source="dev-copilot" target="test-copilot">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="560" y="270" />
              <mxPoint x="560" y="270" />
            </Array>
            <mxPoint as="offset" x="0" y="-10" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-test-prod" value="Import Solution&#xa;(Approval Gateway)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#2196F3;fontSize=10;fontStyle=1;entryX=0;entryY=0.5;exitX=1;exitY=0.5;fillColor=#2196F3;" edge="1" parent="1" source="test-copilot" target="prod-copilot">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1030" y="270" />
              <mxPoint x="1030" y="270" />
            </Array>
            <mxPoint as="offset" x="0" y="-10" />
          </mxGeometry>
        </mxCell>

        <!-- Shared Azure Services -->
        <mxCell id="shared-services" value="Shared Azure Services (Tenant-Wide)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;verticalAlign=top;fontSize=12;fontStyle=1;arcSize=5;" vertex="1" parent="1">
          <mxGeometry x="120" y="1080" width="1360" height="160" as="geometry" />
        </mxCell>

        <mxCell id="shared-sql" value="Azure SQL Database&#xa;(TDE Encryption)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="160" y="1130" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="shared-cognitive" value="Azure Cognitive Services&#xa;(Speech, Vision)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="330" y="1130" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="shared-search" value="Azure Cognitive Search&#xa;(Knowledge Base Indexing)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="500" y="1130" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="shared-keyvault" value="Azure Key Vault&#xa;(Secrets &amp; Certificates)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="670" y="1130" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="shared-frontdoor" value="Azure Front Door&#xa;(CDN &amp; WAF)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="840" y="1130" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="shared-ddos" value="Azure DDoS Protection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1010" y="1130" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="shared-sentinel" value="Microsoft Sentinel&#xa;(SIEM)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1180" y="1130" width="140" height="80" as="geometry" />
        </mxCell>

        <mxCell id="shared-lockbox" value="Customer Lockbox" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="1350" y="1130" width="110" height="80" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-box" value="Legend" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#000000;strokeWidth=2;verticalAlign=top;fontSize=11;fontStyle=1;arcSize=5;" vertex="1" parent="1">
          <mxGeometry x="1560" y="80" width="200" height="280" as="geometry" />
        </mxCell>

        <mxCell id="legend-dev" value="DEV Environment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#1B5E20;fontSize=10;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1580" y="120" width="160" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-test" value="TEST Environment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196F3;strokeColor=#0D47A1;fontSize=10;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1580" y="160" width="160" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-prod" value="PROD Environment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E91E63;strokeColor=#880E4F;fontSize=10;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1580" y="200" width="160" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-security" value="Security Components" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE082;strokeColor=#F57F17;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1580" y="240" width="160" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-shared" value="Shared Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFB74D;strokeColor=#E65100;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1580" y="280" width="160" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-managed" value="Managed Environment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;strokeWidth=3;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1580" y="320" width="160" height="30" as="geometry" />
        </mxCell>

        <!-- Data Residency Note -->
        <mxCell id="note-residency" value="Data Residency: All environments in New Zealand region&#xa;Compliance: NZ data sovereignty requirements met&#xa;Encryption: AES-256 at rest, TLS 1.2+ in transit&#xa;SLA: 99.9% uptime (Azure SLA)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8EAF6;strokeColor=#3F51B5;fontSize=9;align=left;verticalAlign=top;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="1560" y="380" width="200" height="100" as="geometry" />
        </mxCell>

        <!-- Deployment Notes -->
        <mxCell id="note-deployment" value="ALM Pipeline:&#xa;1. Develop in DEV&#xa;2. Export as Solution&#xa;3. Import to TEST&#xa;4. UAT Testing&#xa;5. Approval Gateway&#xa;6. Import to PROD&#xa;7. Monitor &amp; Scale" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=9;align=left;verticalAlign=top;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="1560" y="500" width="200" height="140" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
