<mxfile host="65bd71144e">
    <diagram name="AWS Architecture - LLM Graph Metadata Automation" id="aws-arch">
        <mxGraphModel dx="806" dy="677" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="background" value="&#xa;&lt;span style=&quot;color: rgb(63, 63, 63); font-family: Arial; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 700; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;(Vector k-NN)&lt;/span&gt;&#xa;&#xa;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="210" y="210" width="1580" height="730" as="geometry"/>
                </mxCell>
                <mxCell id="title" value="AWS Bedrock AgentCore Sandbox" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=24;fontColor=#002F6B;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="611" y="227" width="800" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="az1" value="Availability Zone" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=11;fontStyle=0;strokeColor=light-dark(#ff9900, #ededed);fillColor=#F0F0F0;verticalAlign=top;align=left;spacingLeft=10;spacingTop=5;fontColor=#505050;dashed=0;" parent="1" vertex="1">
                    <mxGeometry x="220" y="290" width="680" height="550" as="geometry"/>
                </mxCell>
                <mxCell id="az2" value="Knowledge" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=14;fontStyle=1;strokeColor=#505050;fillColor=#F0F0F0;verticalAlign=top;align=left;spacingLeft=10;spacingTop=5;fontColor=#006600;dashed=0;" parent="1" vertex="1">
                    <mxGeometry x="946" y="410" width="334" height="440" as="geometry"/>
                </mxCell>
                <mxCell id="public-subnet-1" value="Integration" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=14;fontStyle=0;strokeColor=#248814;fillColor=#E8F5E9;verticalAlign=top;align=left;spacingLeft=8;spacingTop=3;fontColor=#248814;" parent="1" vertex="1">
                    <mxGeometry x="240" y="330" width="300" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="private-subnet-1" value="&lt;font style=&quot;color: rgb(0, 127, 255);&quot;&gt;&lt;b&gt;AgentCore and&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 127, 255);&quot;&gt;&lt;b&gt;Lambda Services&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=14;fontStyle=0;strokeColor=#147EBA;fillColor=#E3F2FD;verticalAlign=top;align=left;spacingLeft=8;spacingTop=3;fontColor=#147EBA;" parent="1" vertex="1">
                    <mxGeometry x="240" y="460" width="300" height="360" as="geometry"/>
                </mxCell>
                <mxCell id="private-subnet-2" value="Observability" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=14;fontStyle=1;strokeColor=#147EBA;fillColor=#E3F2FD;verticalAlign=top;align=left;spacingLeft=8;spacingTop=3;fontColor=#147EBA;" parent="1" vertex="1">
                    <mxGeometry x="1290" y="470" width="117" height="350" as="geometry"/>
                </mxCell>
                <mxCell id="igw" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" parent="1" vertex="1">
                    <mxGeometry x="469" y="298" width="28" height="28" as="geometry"/>
                </mxCell>
                <mxCell id="igw-label" value="Internet Gateway" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="358" y="302" width="110" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="alb" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.application_load_balancer;" parent="1" vertex="1">
                    <mxGeometry x="304" y="363" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="alb-label" value="Application LB" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="283" y="421" width="100" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="api-gw" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#FF4F8B;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.api_gateway;" parent="1" vertex="1">
                    <mxGeometry x="454" y="363" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="api-gw-label" value="API Gateway" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="359" y="382" width="100" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="ecs-cluster" value="ECS Cluster - Agent Orchestration" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;strokeColor=#FF9900;fillColor=#FFF5E6;verticalAlign=top;align=center;spacingTop=5;fontColor=#FF9900;" parent="1" vertex="1">
                    <mxGeometry x="260" y="508" width="260" height="122" as="geometry"/>
                </mxCell>
                <mxCell id="fargate-1" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.fargate;" parent="1" vertex="1">
                    <mxGeometry x="279" y="553" width="50" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="fargate-1-label" value="Agent Task 1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="264" y="608" width="80" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="fargate-2" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.fargate;" parent="1" vertex="1">
                    <mxGeometry x="359" y="553" width="50" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="fargate-2-label" value="Agent Task 2" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="344" y="608" width="80" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="fargate-3" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.fargate;" parent="1" vertex="1">
                    <mxGeometry x="439" y="553" width="50" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="fargate-3-label" value="Agent Task N" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="424" y="608" width="80" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="lambda-box" value="Lambda Functions" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;strokeColor=#FF9900;fillColor=#FFF5E6;verticalAlign=top;align=center;spacingTop=5;fontColor=#FF9900;" parent="1" vertex="1">
                    <mxGeometry x="260" y="670" width="260" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="lambda-1" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" parent="1" vertex="1">
                    <mxGeometry x="287" y="702" width="50" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="lambda-1-label" value="Ingestion" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="272" y="760" width="80" height="18" as="geometry"/>
                </mxCell>
                <mxCell id="lambda-2" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" parent="1" vertex="1">
                    <mxGeometry x="367" y="702" width="50" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="lambda-2-label" value="Generation" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="352" y="761.5" width="80" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="lambda-3" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7100;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda_function;" parent="1" vertex="1">
                    <mxGeometry x="447" y="702" width="50" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="lambda-3-label" value="Validator" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="432" y="761.5" width="80" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="bedrock-box" value="Foundation Models" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=14;fontStyle=1;strokeColor=#01A88D;fillColor=#E6F9F5;verticalAlign=top;align=center;spacingTop=5;fontColor=#01A88D;" parent="1" vertex="1">
                    <mxGeometry x="600" y="495" width="250" height="325" as="geometry"/>
                </mxCell>
                <mxCell id="bedrock-icon" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#01A88D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bedrock;" parent="1" vertex="1">
                    <mxGeometry x="630" y="540" width="60" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="bedrock-label" value="AgentCore" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="605" y="605" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="claude-label" value="e.g. Claude Opus 4" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="730" y="605" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="kb-label" value="Knowledge Base" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="728.75" y="717" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="neptune-az1" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#5294CF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.neptune;" parent="1" vertex="1">
                    <mxGeometry x="996" y="500" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="neptune-az1-label" value="Neo4j AuraDB (Managed)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;fontStyle=2;" parent="1" vertex="1">
                    <mxGeometry x="960" y="565" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="opensearch-az1-label" value="OpenSearch" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;fontStyle=2;" parent="1" vertex="1">
                    <mxGeometry x="975" y="689" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="rds-az1" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#5294CF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_postgresql_instance;" parent="1" vertex="1">
                    <mxGeometry x="996" y="743" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="rds-az1-label" value="RDS PostgreSQL" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;fontStyle=2;" parent="1" vertex="1">
                    <mxGeometry x="965" y="797" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="s3-schema" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bucket;" parent="1" vertex="1">
                    <mxGeometry x="1196.31" y="510" width="48.39" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="s3-schema-label" value="S3: Schemas &amp;amp; Metadata" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#232F3E;fontFamily=Arial;fontStyle=0;" parent="1" vertex="1">
                    <mxGeometry x="1178" y="567.5" width="85" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="s3-scripts" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bucket;" parent="1" vertex="1">
                    <mxGeometry x="1193.89" y="645" width="53.23" height="55" as="geometry"/>
                </mxCell>
                <mxCell id="s3-scripts-label" value="S3: Generated Scripts" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#232F3E;fontFamily=Arial;fontStyle=0;" parent="1" vertex="1">
                    <mxGeometry x="1168" y="702" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="s3-logs" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bucket;" parent="1" vertex="1">
                    <mxGeometry x="1193" y="760" width="48.39" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="s3-logs-label" value="S3: Logs &amp;amp; Audit Trail" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#232F3E;fontFamily=Arial;fontStyle=0;" parent="1" vertex="1">
                    <mxGeometry x="1168" y="810" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="cloudwatch" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#E7157B;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.cloudwatch;" parent="1" vertex="1">
                    <mxGeometry x="1320" y="502" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="cloudwatch-label" value="CloudWatch Metrics &amp;amp; Logs" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#232F3E;fontFamily=Arial;fontStyle=0;" parent="1" vertex="1">
                    <mxGeometry x="1312" y="556" width="80" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="xray" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#E7157B;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.x_ray;" parent="1" vertex="1">
                    <mxGeometry x="1323" y="639" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="xray-label" value="X-Ray Tracing" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="1297" y="697" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="secrets" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.secrets_manager;" parent="1" vertex="1">
                    <mxGeometry x="1320" y="732" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="secrets-label" value="Secrets Manager API Keys" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#232F3E;fontFamily=Arial;fontStyle=0;" parent="1" vertex="1">
                    <mxGeometry x="1309" y="790" width="80" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="external-box" value="External Services" style="sketch=0;outlineConnect=0;html=1;whiteSpace=wrap;fontSize=11;fontStyle=1;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=10;spacingTop=5;fontColor=#232F3E;dashed=1;dashPattern=4 4;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="550" y="330" width="251" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="github-icon" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#232F3D;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.generic_database;labelBackgroundColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="602" y="361" width="48" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="github-label" value="Data Sources" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="573" y="410" width="98" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="openai-icon" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=none;fillColor=#232F3D;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.generic_saas;labelBackgroundColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="678.25" y="361" width="48" height="48" as="geometry"/>
                </mxCell>
                <mxCell id="openai-label" value="APIs" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="657.25" y="414" width="90" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="arrow-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF9900;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="api-gw" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="483" y="450"/>
                            <mxPoint x="409" y="450"/>
                        </Array>
                        <mxPoint x="409" y="495" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#01A88D;strokeWidth=2;endArrow=classic;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ecs-cluster" target="bedrock-icon" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="arrow-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5294CF;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="bedrock-icon" target="neptune-az1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="920" y="570"/>
                            <mxPoint x="920" y="549"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#5294CF;strokeWidth=2;endArrow=classic;endFill=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="bedrock-icon" target="opensearch-az1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="920" y="570"/>
                            <mxPoint x="920" y="670"/>
                            <mxPoint x="1050" y="670"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#7AA116;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" target="s3-scripts" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="560" y="730"/>
                            <mxPoint x="560" y="685"/>
                        </Array>
                        <mxPoint x="520" y="730" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="legend-box" value="Legend" style="rounded=6;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#232F3E;strokeWidth=2;fontSize=14;fontColor=#232F3E;fontFamily=Arial;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="218" y="854" width="661" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="legend-1" value="→" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#FF9900;fontFamily=Arial;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="289" y="874" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-1-text" value="User Request Flow" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="324" y="879" width="119" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="legend-2" value="⟶" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#5294CF;fontFamily=Arial;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="439" y="874" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-2-text" value="Data Query / Retrieval" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="474" y="879" width="120" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="legend-3" value="→" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#01A88D;fontFamily=Arial;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="581" y="874" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-3-text" value="LLM API Calls" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="616" y="879" width="90" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="legend-4" value="→" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#7AA116;fontFamily=Arial;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="732" y="874" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-4-text" value="Output Storage" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="767" y="879" width="90" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="footer" value="BNZ AI Platform - AWS Reference Architecture | Technology Strategy &amp;amp; Architecture | October 2025 | Compliance: NIST AI RMF, RBNZ, Privacy Act 2020" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#5A5A5A;fontFamily=Arial;fontStyle=2;" parent="1" vertex="1">
                    <mxGeometry x="220" y="914" width="800" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="Graph Database" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="986" y="466" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="" style="whiteSpace=wrap;html=1;aspect=fixed;fillColor=light-dark(#e6f9f5, #ededed);strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="748.75" y="538.75" width="62.5" height="62.5" as="geometry"/>
                </mxCell>
                <mxCell id="claude-icon" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#01A88D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.sagemaker_model;" parent="1" vertex="1">
                    <mxGeometry x="748.75" y="538.75" width="60" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="7" value="" style="whiteSpace=wrap;html=1;aspect=fixed;fillColor=light-dark(#e6f9f5, #ededed);strokeColor=none;" parent="1" vertex="1">
                    <mxGeometry x="630" y="672.75" width="62.5" height="62.5" as="geometry"/>
                </mxCell>
                <mxCell id="gpt4-icon" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#01A88D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.sagemaker_model;" parent="1" vertex="1">
                    <mxGeometry x="630" y="657" width="60" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="kb-icon" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#01A88D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bedrock_knowledge_base;" parent="1" vertex="1">
                    <mxGeometry x="748.75" y="652" width="60" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="opensearch-az1" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#5294CF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.opensearch_service;" parent="1" vertex="1">
                    <mxGeometry x="996" y="635" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="" style="endArrow=classic;html=1;strokeColor=light-dark(#ff9900, #ededed);strokeWidth=2;" parent="1" source="igw" target="api-gw" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="464" y="470" as="sourcePoint"/>
                        <mxPoint x="514" y="420" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="20" value="" style="endArrow=classic;html=1;strokeColor=light-dark(#ff9900, #ededed);strokeWidth=2;exitX=0.478;exitY=0.913;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="19" target="igw" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="493" y="308" as="sourcePoint"/>
                        <mxPoint x="482" y="270" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="482" y="260"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="21" value="User" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="483" y="237.18" width="71" height="18.84" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="" style="html=1;verticalLabelPosition=bottom;align=center;labelBackgroundColor=#ffffff;verticalAlign=top;strokeWidth=2;strokeColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.user;" parent="1" vertex="1">
                    <mxGeometry x="468" y="232" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-box" value="Architecture Overview" style="rounded=8;whiteSpace=wrap;html=1;fillColor=#E6F2F8;strokeColor=#002F6B;strokeWidth=3;fontSize=13;fontColor=#002F6B;fontFamily=Arial;align=left;verticalAlign=top;spacingLeft=15;spacingTop=8;fontStyle=1;container=0;" parent="1" vertex="1">
                    <mxGeometry x="1440" y="214" width="350" height="706" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="1458.61" y="243.59" width="330" height="646.36" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-title" value="Key Components &amp;amp; Data Flows" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#002F6B;fontFamily=Arial;fontStyle=1;container=0;" parent="28" vertex="1">
                    <mxGeometry width="324.39" height="29.487226277372265" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-ingestion" value="1️⃣ REQUEST INGESTION" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#002F6B;fontFamily=Arial;fontStyle=1;spacingLeft=5;container=0;" parent="28" vertex="1">
                    <mxGeometry y="41.28211678832116" width="324.39" height="23.58978102189781" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-ingestion-text" value="• User request enters via Internet Gateway&#xa;• Application Load Balancer distributes traffic&#xa;• API Gateway validates &amp;amp; routes to ECS Cluster&#xa;• Fargate tasks spin up agent containers" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;spacingLeft=10;spacingTop=2;container=0;" parent="28" vertex="1">
                    <mxGeometry y="68.41036496350365" width="312.3755555555556" height="61.33343065693431" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-metadata" value="2️⃣ DATA INGESTION" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#002F6B;fontFamily=Arial;fontStyle=1;spacingLeft=5;container=0;" parent="28" vertex="1">
                    <mxGeometry y="141.5386861313868" width="324.39" height="23.58978102189781" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-metadata-text" value="• Lambda functions parse data sources&lt;br&gt;• Extract tables, columns, FK relationships&lt;br&gt;• Store raw metadata in S3 (schemas bucket)&lt;br&gt;• Trigger graph ingestion workflow" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;spacingLeft=10;spacingTop=2;container=0;" parent="28" vertex="1">
                    <mxGeometry y="168.66693430656937" width="312.3755555555556" height="61.33343065693431" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-graph" value="3️⃣ GRAPH RELATIONSHIP MAPPING" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#002F6B;fontFamily=Arial;fontStyle=1;spacingLeft=5;container=0;" parent="28" vertex="1">
                    <mxGeometry y="241.79525547445255" width="324.39" height="23.58978102189781" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-graph-text" value="• Graph Database primary writes graph nodes/edges&lt;br&gt;• Cypher queries discover patterns&lt;br&gt;• Multi-hop relationship traversal (6+ levels)" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;spacingLeft=10;spacingTop=2;container=0;" parent="28" vertex="1">
                    <mxGeometry y="268.92" width="330" height="61.33" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-llm" value="4️⃣ LLM INTELLIGENT ANALYSIS" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#002F6B;fontFamily=Arial;fontStyle=1;spacingLeft=5;container=0;" parent="28" vertex="1">
                    <mxGeometry y="342.05182481751825" width="324.39" height="23.58978102189781" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-llm-text" value="• Bedrock AgentCore orchestrates sessions&lt;br&gt;• LLM (e.g. Claude Opus) generates queries&lt;br&gt;• LLM (e.g. Sonnet 4) synthesizes natural language&lt;br&gt;• OpenSearch provides vector similarity search&lt;br&gt;• Knowledge Base (RAG) retrieves best practices" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;spacingLeft=10;spacingTop=2;container=0;" parent="28" vertex="1">
                    <mxGeometry y="369.1800729927007" width="312.3755555555556" height="76.66678832116789" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-code" value="5️⃣ RESPONSE OR OUTPUT GENERATION&amp;nbsp;" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#002F6B;fontFamily=Arial;fontStyle=1;spacingLeft=5;container=0;" parent="28" vertex="1">
                    <mxGeometry y="457.6417518248176" width="324.39" height="23.58978102189781" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-code-text" value="• Lambda generator creates output products&lt;br&gt;• Self-correction loop validates response&lt;br&gt;• Graph database&amp;nbsp; stores graph metadata&lt;br&gt;• Output products versioned in S3 bucket" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;spacingLeft=10;spacingTop=2;container=0;" parent="28" vertex="1">
                    <mxGeometry y="484.77000000000004" width="312.3755555555556" height="61.33343065693431" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-monitor" value="6️⃣ MONITORING &amp;amp; SECURITY" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#002F6B;fontFamily=Arial;fontStyle=1;spacingLeft=5;container=0;" parent="28" vertex="1">
                    <mxGeometry y="557.8983211678832" width="324.39" height="23.58978102189781" as="geometry"/>
                </mxCell>
                <mxCell id="narrative-monitor-text" value="• CloudWatch captures all metrics &amp;amp; logs&lt;br&gt;• X-Ray traces distributed requests end-to-end&lt;br&gt;• Secrets Manager secures OpenAI / Anthropic keys&lt;br&gt;• S3 audit trail logs all operations (compliance)" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;spacingLeft=10;spacingTop=2;container=0;" parent="28" vertex="1">
                    <mxGeometry y="585.0265693430656" width="312.3755555555556" height="61.33343065693431" as="geometry"/>
                </mxCell>
                <mxCell id="gpt4-label" value="&lt;font&gt;e.g. Claude Sonnet 4&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#1A1A1A;fontFamily=Arial;" parent="1" vertex="1">
                    <mxGeometry x="610" y="722" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="29" value="&lt;span style=&quot;color: rgb(63, 63, 63); font-family: Arial; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 700; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;Vector k-NN&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;" vertex="1" parent="1">
                    <mxGeometry x="986" y="610" width="110" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="&lt;span style=&quot;color: rgb(63, 63, 63); font-family: Arial; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 700; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;Relational Database&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;" vertex="1" parent="1">
                    <mxGeometry x="986" y="719" width="134" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#5294CF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.neptune;" vertex="1" parent="1">
                    <mxGeometry x="1094" y="500.5" width="58" height="58" as="geometry"/>
                </mxCell>
                <mxCell id="32" value="MongoDB (Managed)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#232F3E;fontFamily=Arial;fontStyle=2;" vertex="1" parent="1">
                    <mxGeometry x="1066" y="564.5" width="102" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="33" value="Vector Database" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
                    <mxGeometry x="1084" y="466.5" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="" style="html=1;verticalLabelPosition=bottom;align=center;labelBackgroundColor=#ffffff;verticalAlign=top;strokeWidth=2;strokeColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.user;" vertex="1" parent="1">
                    <mxGeometry x="307" y="232" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="38" value="Developer" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#232F3E;fontFamily=Arial;fontStyle=1" vertex="1" parent="1">
                    <mxGeometry x="227" y="237.18" width="74" height="19.64" as="geometry"/>
                </mxCell>
                <mxCell id="39" value="Deployment Workflows" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;fontStyle=2" vertex="1" parent="1">
                    <mxGeometry x="224" y="264" width="143" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="Usage Workflows" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#232F3E;fontFamily=Arial;fontStyle=2" vertex="1" parent="1">
                    <mxGeometry x="480" y="264" width="143" height="20" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>