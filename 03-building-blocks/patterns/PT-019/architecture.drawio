<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3">
  <diagram name="PT-019-GraphRAG-Architecture" id="graphrag-arch">
    <mxGraphModel dx="1426" dy="841" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="PT-019: GraphRAG - Architecture Overview" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;" parent="1" vertex="1">
          <mxGeometry x="20" y="10" width="600" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pattern-boundary" value="GraphRAG Pattern Boundary" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#003087;strokeWidth=3;verticalAlign=top;align=left;fontSize=18;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;dashed=1;arcSize=3;spacingLeft=20;" parent="1" vertex="1">
          <mxGeometry x="20" y="50" width="1560" height="830" as="geometry" />
        </mxCell>
        <mxCell id="sources-layer" value="Data Sources" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#6699CC;strokeColor=none;strokeWidth=2;verticalAlign=top;align=left;fontSize=16;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;arcSize=10;spacingLeft=10;" parent="1" vertex="1">
          <mxGeometry x="40" y="80" width="310" height="180" as="geometry" />
        </mxCell>
        <mxCell id="docs-source" value="Enterprise&#xa;Documents&#xa;(PDF, DOCX)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=9;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;fontSize=11;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;" parent="1" vertex="1">
          <mxGeometry x="55" y="115" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="structured-source" value="Structured&#xa;Data&#xa;(Databases)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;fontSize=11;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;" parent="1" vertex="1">
          <mxGeometry x="150" y="115" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="external-source" value="External&#xa;Knowledge&#xa;(APIs)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;fontSize=11;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;" parent="1" vertex="1">
          <mxGeometry x="245" y="115" width="80" height="70" as="geometry" />
        </mxCell>
        <mxCell id="wiki-source" value="Internal&#xa;Wikis &amp;&#xa;FAQs" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;fontSize=11;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;" parent="1" vertex="1">
          <mxGeometry x="55" y="192" width="80" height="62" as="geometry" />
        </mxCell>
        <mxCell id="doc-pipeline" value="Document Processing Pipeline&#xa;(AB-057)&#xa;&#xa;Parsing | Cleaning | Chunking | Metadata" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="420" y="80" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="entity-extraction" value="Entity Extractor&#xa;(AB-034)&#xa;&#xa;NER | Entity Types | Confidence" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="420" y="180" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="rel-extraction" value="Relationship Extractor&#xa;(LLM-based)&#xa;&#xa;Entity Pairs | Relation Types | Triples" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="720" y="180" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="embedding-gen" value="Embedding Generator&#xa;&#xa;text-embedding-3-large&#xa;bge-large-en" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="720" y="80" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="graph-store" value="Knowledge Graph&#xa;(AB-080)&#xa;&#xa;Neo4j | Neptune | Cosmos DB&#xa;Entities | Relationships | Properties&#xa;Community Detection | Summarization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=none;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="420" y="300" width="280" height="120" as="geometry" />
        </mxCell>
        <mxCell id="vector-store" value="Vector Database&#xa;(AB-051)&#xa;&#xa;Pinecone | Weaviate | Qdrant&#xa;Document Embeddings&#xa;Metadata Filtering" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=none;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="740" y="300" width="240" height="120" as="geometry" />
        </mxCell>
        <mxCell id="query-layer" value="Query Processing Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=none;strokeWidth=2;verticalAlign=top;align=left;fontSize=16;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;arcSize=5;spacingLeft=10;" parent="1" vertex="1">
          <mxGeometry x="40" y="300" width="350" height="260" as="geometry" />
        </mxCell>
        <mxCell id="query-processor" value="Query Processor&#xa;&#xa;Entity Linking&#xa;Query Classification&#xa;Intent Detection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="55" y="335" width="155" height="85" as="geometry" />
        </mxCell>
        <mxCell id="query-rewriter" value="Query Rewriter&#xa;(AB-059)&#xa;&#xa;Decomposition&#xa;Multi-hop Planning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="220" y="335" width="155" height="85" as="geometry" />
        </mxCell>
        <mxCell id="hybrid-retriever" value="Hybrid Retriever&#xa;(AB-054)&#xa;&#xa;Vector Search + Graph Traversal&#xa;Reciprocal Rank Fusion" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="55" y="435" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="response-layer" value="Response Generation Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=none;strokeWidth=2;verticalAlign=top;align=center;fontSize=16;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;arcSize=5;spacingLeft=10;" parent="1" vertex="1">
          <mxGeometry x="40" y="580" width="960" height="140" as="geometry" />
        </mxCell>
        <mxCell id="context-assembler" value="Context Assembler&#xa;&#xa;Graph Paths + Doc Chunks&#xa;Structured Prompt" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="55" y="620" width="180" height="85" as="geometry" />
        </mxCell>
        <mxCell id="llm-service" value="LLM Service&#xa;(AB-050)&#xa;&#xa;GPT-4o | Claude | Llama&#xa;Response Generation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="255" y="620" width="180" height="85" as="geometry" />
        </mxCell>
        <mxCell id="reranker" value="Reranking Engine&#xa;(AB-055)&#xa;&#xa;Cross-Encoder&#xa;Relevance Scoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="455" y="620" width="160" height="85" as="geometry" />
        </mxCell>
        <mxCell id="citation-gen" value="Citation Generator&#xa;(AB-058)&#xa;&#xa;Source Attribution&#xa;Graph Paths" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="635" y="620" width="160" height="85" as="geometry" />
        </mxCell>
        <mxCell id="self-critique" value="Self-Critique&#xa;(AB-056)&#xa;&#xa;Hallucination Check&#xa;Faithfulness" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="815" y="620" width="160" height="85" as="geometry" />
        </mxCell>
        <mxCell id="semantic-search" value="Semantic Search Engine&#xa;(AB-052)&#xa;&#xa;Query Routing | Result Fusion&#xa;Global + Local Search" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="420" y="460" width="580" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cross-cutting" value="Cross-Cutting Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;verticalAlign=top;align=left;fontSize=16;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;arcSize=5;spacingLeft=10;" parent="1" vertex="1">
          <mxGeometry x="1040" y="300" width="500" height="250" as="geometry" />
        </mxCell>
        <mxCell id="governance" value="AI Governance&#xa;(AB-060)&#xa;&#xa;Compliance | Risk | Audit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1064" y="340" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="security" value="Security &amp; Identity&#xa;(AB-112)&#xa;&#xa;OAuth | RBAC | Encryption" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1232" y="340" width="138" height="80" as="geometry" />
        </mxCell>
        <mxCell id="observability" value="Observability&#xa;(AB-096)&#xa;&#xa;Metrics | Logs | Traces" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1380" y="340" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="genai-monitor" value="GenAI Quality Monitor&#xa;(AB-105)&#xa;&#xa;Hallucination Detection&#xa;Retrieval Relevance&#xa;Response Faithfulness" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1060" y="440" width="230" height="100" as="geometry" />
        </mxCell>
        <mxCell id="response-cache" value="Response Cache&#xa;(Redis)&#xa;&#xa;Frequent Queries&#xa;Graph Path Cache" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Helvetica;fontColor=#FFFFFF;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1310" y="440" width="210" height="100" as="geometry" />
        </mxCell>
        <mxCell id="consumers-layer" value="Consumers" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#6699CC;strokeColor=none;strokeWidth=2;verticalAlign=top;align=left;fontSize=16;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;arcSize=7;spacingLeft=10;" parent="1" vertex="1">
          <mxGeometry x="1030" y="80" width="510" height="150" as="geometry" />
        </mxCell>
        <mxCell id="contact-centre" value="Knowledge-Intensive Queries" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E6F0FF;strokeColor=#003087;strokeWidth=1;fontSize=11;fontFamily=Helvetica;fontColor=#003087;" parent="1" vertex="1">
          <mxGeometry x="1060" y="115" width="95" height="65" as="geometry" />
        </mxCell>
        <mxCell id="arrow-src-doc" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="sources-layer" target="doc-pipeline" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-doc-entity" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="doc-pipeline" target="entity-extraction" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-doc-embed" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="doc-pipeline" target="embedding-gen" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-entity-rel" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="entity-extraction" target="rel-extraction" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-entity-graph" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="entity-extraction" target="graph-store" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-rel-graph" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rel-extraction" target="graph-store" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="860" y="280" />
              <mxPoint x="630" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-embed-vector" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="embedding-gen" target="vector-store" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1000" y="120" />
              <mxPoint x="1000" y="280" />
              <mxPoint x="920" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-hybrid-graph" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00A651;strokeWidth=2;endArrow=classic;endFill=1;dashed=1;" parent="1" source="hybrid-retriever" target="graph-store" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="400" y="470" />
              <mxPoint x="400" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-hybrid-vector" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00A651;strokeWidth=2;endArrow=classic;endFill=1;dashed=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="hybrid-retriever" target="vector-store" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="400" y="470" />
              <mxPoint x="400" y="440" />
              <mxPoint x="720" y="440" />
              <mxPoint x="720" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-hybrid-semantic" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="hybrid-retriever" target="semantic-search" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-semantic-context" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="semantic-search" target="context-assembler" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="710" y="570" />
              <mxPoint x="145" y="570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-context-llm" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="context-assembler" target="llm-service" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-llm-rerank" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="llm-service" target="reranker" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-llm-citation" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="reranker" target="citation-gen" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-citation-critique" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2;endArrow=classic;endFill=1;" parent="1" source="citation-gen" target="self-critique" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-response-consumers" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=3;endArrow=classic;endFill=1;" parent="1" source="self-critique" target="contact-centre" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1010" y="663" />
              <mxPoint x="1010" y="147" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#666666;strokeWidth=1;arcSize=9;" parent="1" vertex="1">
          <mxGeometry x="1040" y="560" width="500" height="150" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="Legend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;" parent="1" vertex="1">
          <mxGeometry x="1055" y="570" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#6699CC;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="1055" y="600" width="30" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend1-text" value="Data Sources / Consumers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1095" y="597" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="1055" y="625" width="30" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend2-text" value="Processing Components" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1095" y="622" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="1055" y="650" width="30" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend3-text" value="Knowledge Stores (Graph + Vector)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1095" y="647" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="1055" y="675" width="30" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend4-text" value="Query &amp; Response Processing" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1095" y="672" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#50E6FF;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="1280" y="600" width="30" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend5-text" value="Cross-Cutting Services" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1320" y="597" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-arrow1" value="" style="endArrow=classic;html=1;strokeColor=#003087;strokeWidth=2;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1280" y="633" as="sourcePoint" />
            <mxPoint x="1310" y="633" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-arrow1-text" value="Data Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1320" y="623" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-arrow2" value="" style="endArrow=classic;html=1;strokeColor=#00A651;strokeWidth=2;dashed=1;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1280" y="658" as="sourcePoint" />
            <mxPoint x="1310" y="658" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-arrow2-text" value="Retrieval Query" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1320" y="648" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-arrow3" value="" style="endArrow=classic;html=1;strokeColor=#FF6B35;strokeWidth=3;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1280" y="683" as="sourcePoint" />
            <mxPoint x="1310" y="683" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-arrow3-text" value="Response Output" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1320" y="673" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="abb-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#666666;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="740" width="960" height="130" as="geometry" />
        </mxCell>
        <mxCell id="abb-title" value="Architecture Building Blocks (ABBs)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;" parent="1" vertex="1">
          <mxGeometry x="55" y="750" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="abb-col1" value="Primary ABBs:&#xa;AB-051: Vector Database&#xa;AB-050: Large Language Model Service&#xa;AB-080: Knowledge Base (Graph)&#xa;AB-052: Semantic Search Engine" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="55" y="775" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="abb-col2" value="Processing ABBs:&#xa;AB-057: Document Processing Pipeline&#xa;AB-034: Entity Extractor&#xa;AB-059: Query Rewriting Engine&#xa;AB-054: Hybrid Search Engine" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="300" y="775" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="abb-col3" value="Response ABBs:&#xa;AB-055: Reranking Engine&#xa;AB-058: Citation Generator&#xa;AB-056: Self-Critique Engine" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="545" y="775" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="abb-col4" value="Cross-Cutting ABBs:&#xa;AB-060: AI Governance Platform&#xa;AB-112: Security &amp; Identity&#xa;AB-096: Observability Platform&#xa;AB-105: GenAI Quality Monitor" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="760" y="775" width="220" height="90" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
