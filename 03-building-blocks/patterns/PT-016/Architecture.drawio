<mxfile host="app.diagrams.net" modified="2025-12-05T00:00:00.000Z" agent="Claude Code" version="24.0.0" type="device">
  <diagram name="PT-016-Architecture" id="stream-processing-architecture">
    <mxGraphModel dx="2400" dy="1800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2400" pageHeight="1800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="PT-016: Stream Processing - Architecture Overview" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="50" y="40" width="2300" height="60" as="geometry" />
        </mxCell>

        <!-- Pattern Boundary Container -->
        <mxCell id="pattern-boundary" value="Stream Processing Pattern Boundary" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;dashed=1;dashPattern=8 8;fontSize=16;fontFamily=Helvetica;fontColor=#003087;align=left;verticalAlign=top;spacingLeft=20;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="400" y="250" width="1600" height="1100" as="geometry" />
        </mxCell>

        <!-- Event Sources (External - Left Side) -->
        <mxCell id="event-sources-container" value="Event Sources" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=2;fillColor=#E8F5E9;fontSize=14;fontFamily=Helvetica;fontColor=#003087;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="400" width="220" height="400" as="geometry" />
        </mxCell>

        <mxCell id="source-app-events" value="Application Events&#xa;(Transactions, Clicks)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="120" y="440" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="source-db-cdc" value="Database CDC&#xa;(Change Data Capture)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="120" y="520" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="source-iot" value="IoT/Sensor Data&#xa;(Device Telemetry)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="120" y="600" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="source-financial" value="Financial Transactions&#xa;(Payments, Transfers)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="120" y="680" width="180" height="60" as="geometry" />
        </mxCell>

        <!-- Event Stream Broker (ABB-STREAM-001) -->
        <mxCell id="stream-broker" value="Event Stream Broker&#xa;ABB-STREAM-001&#xa;&#xa;Kafka Topics&#xa;&#xa;• Durable event log&#xa;• Distributed partitions&#xa;• Replication (3x)&#xa;• 7-30 day retention" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#FF6B35;strokeWidth=3;fillColor=#FFF3E0;fontSize=13;fontFamily=Helvetica;fontColor=#003087;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="480" y="500" width="240" height="220" as="geometry" />
        </mxCell>

        <!-- Stream Processing Engine Container (ABB-STREAM-002) -->
        <mxCell id="processing-engine-container" value="Stream Processing Engine (ABB-STREAM-002)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#FF6B35;strokeWidth=3;fillColor=#FFF3E0;fontSize=14;fontFamily=Helvetica;fontColor=#003087;align=center;verticalAlign=top;spacingTop=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="820" y="300" width="600" height="600" as="geometry" />
        </mxCell>

        <!-- Stream Operations -->
        <mxCell id="operation-filter" value="Filter&#xa;(Select relevant events)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=#E1F5FE;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="860" y="360" width="200" height="60" as="geometry" />
        </mxCell>

        <mxCell id="operation-map" value="Map/Transform&#xa;(Enrich, convert format)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=#E1F5FE;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="860" y="440" width="200" height="60" as="geometry" />
        </mxCell>

        <mxCell id="operation-window" value="Windowing&#xa;ABB-STREAM-005&#xa;(Tumbling, Sliding, Session)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=#E1F5FE;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="860" y="520" width="200" height="70" as="geometry" />
        </mxCell>

        <mxCell id="operation-aggregate" value="Aggregation&#xa;(Count, Sum, Avg, Join)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=#E1F5FE;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="860" y="610" width="200" height="60" as="geometry" />
        </mxCell>

        <mxCell id="operation-join" value="Stream Join&#xa;ABB-STREAM-008&#xa;(Stream-Stream, Stream-Table)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=#E1F5FE;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="860" y="690" width="200" height="70" as="geometry" />
        </mxCell>

        <mxCell id="operation-pattern" value="Pattern Detection (CEP)&#xa;(Event sequences)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=#E1F5FE;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="860" y="780" width="200" height="60" as="geometry" />
        </mxCell>

        <!-- State Store (ABB-STREAM-003) -->
        <mxCell id="state-store" value="State Store&#xa;ABB-STREAM-003&#xa;&#xa;RocksDB / Redis&#xa;&#xa;• Windowed state&#xa;• KV state&#xa;• Aggregating state&#xa;• Checkpoints (30-60s)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#FF6B35;strokeWidth=3;fillColor=#FFF3E0;fontSize=12;fontFamily=Helvetica;fontColor=#003087;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="1180" y="500" width="200" height="200" as="geometry" />
        </mxCell>

        <!-- Schema Registry (ABB-STREAM-004) -->
        <mxCell id="schema-registry" value="Schema Registry&#xa;ABB-STREAM-004&#xa;&#xa;Avro/Protobuf/JSON&#xa;Schema Evolution" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#FF6B35;strokeWidth=2;fillColor=#FFF3E0;fontSize=11;fontFamily=Helvetica;fontColor=#003087;align=center;" vertex="1" parent="1">
          <mxGeometry x="1180" y="360" width="200" height="100" as="geometry" />
        </mxCell>

        <!-- Monitoring (ABB-STREAM-007) -->
        <mxCell id="monitoring" value="Stream Monitoring&#xa;ABB-STREAM-007&#xa;&#xa;• Stream lag&#xa;• Backpressure&#xa;• Throughput&#xa;• Error rate" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#FF6B35;strokeWidth=2;fillColor=#FFF3E0;fontSize=11;fontFamily=Helvetica;fontColor=#003087;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="1180" y="750" width="200" height="120" as="geometry" />
        </mxCell>

        <!-- Output Stream -->
        <mxCell id="output-stream" value="Processed Event Stream&#xa;&#xa;Transformed &amp; Aggregated&#xa;Events" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#FF6B35;strokeWidth=2;fillColor=#FFF3E0;fontSize=12;fontFamily=Helvetica;fontColor=#003087;align=center;" vertex="1" parent="1">
          <mxGeometry x="1520" y="500" width="200" height="100" as="geometry" />
        </mxCell>

        <!-- Stream Sinks (ABB-STREAM-006) - External Right Side -->
        <mxCell id="sinks-container" value="Stream Sinks (ABB-STREAM-006)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=2;fillColor=#E8F5E9;fontSize=14;fontFamily=Helvetica;fontColor=#003087;align=center;verticalAlign=top;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="2080" y="400" width="220" height="520" as="geometry" />
        </mxCell>

        <mxCell id="sink-feature-store" value="Feature Store&#xa;(Real-time features)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="2100" y="440" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="sink-database" value="Database&#xa;(PostgreSQL, Cassandra)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="2100" y="520" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="sink-data-lake" value="Data Lake&#xa;(S3, Amazon S3)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="2100" y="600" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="sink-ml-inference" value="ML Inference Service&#xa;(Real-time scoring)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="2100" y="680" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="sink-downstream" value="Downstream Streams&#xa;(Kafka topics)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="2100" y="760" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="sink-alerts" value="Alert System&#xa;(Notifications)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=1.5;fillColor=#FFFFFF;fontSize=12;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="2100" y="840" width="180" height="60" as="geometry" />
        </mxCell>

        <!-- Data Flow Arrows -->
        <!-- Sources to Broker -->
        <mxCell id="flow-sources-broker-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="source-app-events" target="stream-broker">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-sources-broker-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="source-db-cdc" target="stream-broker">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-sources-broker-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="source-iot" target="stream-broker">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-sources-broker-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="source-financial" target="stream-broker">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Broker to Processing Engine -->
        <mxCell id="flow-broker-processing" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=4;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="stream-broker" target="processing-engine-container">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-broker-processing-label" value="Event Stream&#xa;&lt; 10ms p99" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;fontColor=#003087;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="flow-broker-processing">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="10" y="-20" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Processing Operations Flow (Internal) -->
        <mxCell id="flow-filter-map" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="operation-filter" target="operation-map">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-map-window" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="operation-map" target="operation-window">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-window-aggregate" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="operation-window" target="operation-aggregate">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-aggregate-join" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="operation-aggregate" target="operation-join">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-join-pattern" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=none;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=block;endFill=1;dashed=1;" edge="1" parent="1" source="operation-join" target="operation-pattern">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Processing to State Store (Bidirectional) -->
        <mxCell id="flow-processing-state-read" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2.5;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;endArrow=block;endFill=1;startArrow=block;startFill=1;" edge="1" parent="1" source="operation-window" target="state-store">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-processing-state-label" value="State R/W" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Helvetica;fontColor=#003087;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="flow-processing-state-read">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="5" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="flow-aggregate-state" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2.5;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;startArrow=block;startFill=1;" edge="1" parent="1" source="operation-aggregate" target="state-store">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-join-state" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2.5;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;endArrow=block;endFill=1;startArrow=block;startFill=1;" edge="1" parent="1" source="operation-join" target="state-store">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Schema Registry to Processing -->
        <mxCell id="flow-schema-processing" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2;fillColor=none;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;dashed=1;dashPattern=4 4;" edge="1" parent="1" source="schema-registry" target="operation-filter">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-schema-label" value="Schema&#xa;Validation" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Helvetica;fontColor=#003087;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="flow-schema-processing">
          <mxGeometry x="0.1" y="1" relative="1" as="geometry">
            <mxPoint x="5" y="-18" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Monitoring Connection -->
        <mxCell id="flow-processing-monitoring" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;dashed=1;dashPattern=4 4;" edge="1" parent="1" source="operation-pattern" target="monitoring">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow-monitoring-label" value="Metrics" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Helvetica;fontColor=#003087;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="flow-processing-monitoring">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="10" y="-8" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Processing to Output Stream -->
        <mxCell id="flow-processing-output" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=4;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="processing-engine-container" target="output-stream">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1460" y="600" />
              <mxPoint x="1460" y="550" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="flow-processing-output-label" value="Processed Events&#xa;&lt; 2s p99" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;fontColor=#003087;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="flow-processing-output">
          <mxGeometry x="0.1" y="1" relative="1" as="geometry">
            <mxPoint x="-10" y="-20" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Output to Sinks -->
        <mxCell id="flow-output-sink1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="output-stream" target="sink-feature-store">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1800" y="525" />
              <mxPoint x="1800" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="flow-output-sink2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="output-stream" target="sink-database">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="flow-output-sink3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="output-stream" target="sink-data-lake">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1800" y="575" />
              <mxPoint x="1800" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="flow-output-sink4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;fillColor=none;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="output-stream" target="sink-ml-inference">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1800" y="600" />
              <mxPoint x="1800" y="710" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="flow-output-sink5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=2.5;fillColor=none;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;" edge="1" parent="1" source="output-stream" target="sink-downstream">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1800" y="600" />
              <mxPoint x="1800" y="790" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="flow-monitoring-alerts" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF6B35;strokeWidth=2;fillColor=none;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=block;endFill=1;dashed=1;dashPattern=4 4;" edge="1" parent="1" source="monitoring" target="sink-alerts">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1900" y="810" />
              <mxPoint x="1900" y="870" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Performance Metrics Box -->
        <mxCell id="metrics-box" value="Performance SLAs&#xa;&#xa;• Ingestion: &lt; 10ms p99&#xa;• Processing: &lt; 500ms p99&#xa;• End-to-End: &lt; 5s p99&#xa;• Throughput: 100K+ events/sec&#xa;• Availability: 99.9%&#xa;• Exactly-once semantics" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#003087;strokeWidth=2;fillColor=#E3F2FD;fontSize=11;fontFamily=Helvetica;fontColor=#003087;align=left;verticalAlign=top;spacingLeft=15;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="950" width="220" height="180" as="geometry" />
        </mxCell>

        <!-- Use Cases Box -->
        <mxCell id="use-cases-box" value="Key Use Cases&#xa;&#xa;• UC-004: Credit Risk (real-time features)&#xa;• UC-008: Security AI (threat detection)&#xa;• UC-013: Fraud Ops (fraud features)&#xa;• UC-006: Personalization (behavior)&#xa;• UC-024: App Personalization&#xa;• UC-003: Analytics &amp; Reporting" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#003087;strokeWidth=2;fillColor=#E3F2FD;fontSize=11;fontFamily=Helvetica;fontColor=#003087;align=left;verticalAlign=top;spacingLeft=15;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="100" y="1170" width="220" height="180" as="geometry" />
        </mxCell>

        <!-- Technology Stack Box -->
        <mxCell id="tech-stack-box" value="Technology Stack&#xa;&#xa;• Engine: Apache Flink, Kafka Streams&#xa;• Broker: Apache Kafka&#xa;• State: RocksDB, Redis&#xa;• Schema: Confluent Schema Registry&#xa;• Format: Avro, Protobuf, JSON&#xa;• Monitoring: Prometheus, Datadog" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#003087;strokeWidth=2;fillColor=#E3F2FD;fontSize=11;fontFamily=Helvetica;fontColor=#003087;align=left;verticalAlign=top;spacingLeft=15;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="2080" y="1010" width="220" height="180" as="geometry" />
        </mxCell>

        <!-- Windowing Types Box -->
        <mxCell id="windowing-box" value="Windowing Strategies&#xa;&#xa;• Tumbling: Fixed intervals (5-min)&#xa;• Sliding: Overlapping (1-hr, 5-min slide)&#xa;• Session: Gap-based (30-min inactivity)&#xa;&#xa;Time Semantics:&#xa;• Event Time (with watermarks)&#xa;• Processing Time" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=#E1F5FE;fontSize=11;fontFamily=Helvetica;fontColor=#003087;align=left;verticalAlign=top;spacingLeft=15;spacingTop=10;" vertex="1" parent="1">
          <mxGeometry x="2080" y="1230" width="220" height="170" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-container" value="Legend" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#003087;strokeWidth=2;fillColor=#FFFFFF;fontSize=14;fontFamily=Helvetica;fontColor=#003087;align=center;verticalAlign=top;spacingTop=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1520" y="1150" width="480" height="220" as="geometry" />
        </mxCell>

        <!-- Legend Items -->
        <mxCell id="legend-integration" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#FF6B35;strokeWidth=3;fillColor=#FFF3E0;fontSize=10;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1550" y="1195" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-integration-label" value="Integration ABB (Stream Processing Components)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1620" y="1195" width="350" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-operation" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#50E6FF;strokeWidth=2;fillColor=#E1F5FE;fontSize=10;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1550" y="1235" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-operation-label" value="Stream Operations (Transform, Window, Aggregate)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1620" y="1235" width="350" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-external" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#00A651;strokeWidth=2;fillColor=#E8F5E9;fontSize=10;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1550" y="1275" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-external-label" value="External Systems (Sources, Sinks)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1620" y="1275" width="350" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-dataflow" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#003087;strokeWidth=3;endArrow=block;endFill=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1550" y="1325" as="sourcePoint" />
            <mxPoint x="1610" y="1325" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-dataflow-label" value="Real-time Data Flow (Event Streams)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1620" y="1315" width="350" height="30" as="geometry" />
        </mxCell>

        <!-- Footer -->
        <mxCell id="footer" value="BNZ AI Platform Architecture | Pattern PT-016: Stream Processing v1.0.0 | Created: 2025-12-05 | Compliant with BNZ Visual Design Standards" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Helvetica;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="50" y="1420" width="2300" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
