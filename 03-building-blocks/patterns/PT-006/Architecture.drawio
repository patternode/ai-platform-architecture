<mxfile host="app.diagrams.net" modified="2025-12-05T00:00:00.000Z" agent="Claude Code" etag="PT-006-v1.0.0" version="24.0.0" type="device">
  <diagram id="PT-006-Architecture" name="PT-006: Multi-Model Routing - Architecture Overview">
    <mxGraphModel dx="2400" dy="1800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2400" pageHeight="1800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="PT-006: Multi-Model Routing - Architecture Overview" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="50" y="40" width="2300" height="60" as="geometry" />
        </mxCell>

        <!-- Subtitle -->
        <mxCell id="subtitle" value="Version 1.0.0 | BNZ Enterprise Architecture | 2025-12-05" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontFamily=Calibri;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="2300" height="30" as="geometry" />
        </mxCell>

        <!-- Pattern Boundary Container -->
        <mxCell id="pattern-boundary" value="Multi-Model Routing Pattern" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E6F2FF;strokeColor=#003087;strokeWidth=3;fontSize=18;fontStyle=1;fontFamily=Calibri;fontColor=#003087;verticalAlign=top;align=center;arcSize=5;dashed=1;dashPattern=8 8;" vertex="1" parent="1">
          <mxGeometry x="150" y="200" width="2100" height="1250" as="geometry" />
        </mxCell>

        <!-- Application Layer -->
        <mxCell id="app-layer" value="Application Layer" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F0F0F0;strokeColor=#666666;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Calibri;fontColor=#333333;verticalAlign=top;align=center;" vertex="1" parent="1">
          <mxGeometry x="200" y="260" width="2000" height="120" as="geometry" />
        </mxCell>

        <!-- Application clients -->
        <mxCell id="app-client-1" value="Partnership&#xa;Banking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="280" y="300" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="app-client-2" value="Contact&#xa;Centre" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="480" y="300" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="app-client-3" value="SDLC&#xa;Tools" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="680" y="300" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="app-client-4" value="Finance&#xa;Analytics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="880" y="300" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="app-client-more" value="..." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1080" y="310" width="100" height="40" as="geometry" />
        </mxCell>

        <!-- Routing Layer -->
        <mxCell id="routing-layer" value="Routing &amp; Gateway Layer" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFF5F0;strokeColor=#FF6B35;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Calibri;fontColor=#003087;verticalAlign=top;align=center;" vertex="1" parent="1">
          <mxGeometry x="200" y="440" width="2000" height="280" as="geometry" />
        </mxCell>

        <!-- Response Cache -->
        <mxCell id="response-cache" value="Response Cache&#xa;(AB-054)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="490" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="cache-detail" value="• Exact Match&#xa;• Semantic Similarity&#xa;• 30-50% Hit Rate" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="290" y="530" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Model Router -->
        <mxCell id="model-router" value="Model Router&#xa;(AB-050)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="490" width="200" height="200" as="geometry" />
        </mxCell>

        <mxCell id="router-strategies" value="Routing Strategies:" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="530" y="530" width="180" height="20" as="geometry" />
        </mxCell>

        <mxCell id="router-task" value="• Task-Based" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="540" y="555" width="160" height="20" as="geometry" />
        </mxCell>

        <mxCell id="router-cost" value="• Cost-Based" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="540" y="575" width="160" height="20" as="geometry" />
        </mxCell>

        <mxCell id="router-latency" value="• Latency-Based" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="540" y="595" width="160" height="20" as="geometry" />
        </mxCell>

        <mxCell id="router-quality" value="• Quality-Based" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="540" y="615" width="160" height="20" as="geometry" />
        </mxCell>

        <mxCell id="router-load" value="• Load-Based" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="540" y="635" width="160" height="20" as="geometry" />
        </mxCell>

        <mxCell id="router-hybrid" value="• Hybrid" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="540" y="655" width="160" height="20" as="geometry" />
        </mxCell>

        <!-- Cost Optimizer -->
        <mxCell id="cost-optimizer" value="Cost Optimizer&#xa;(AB-052)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="610" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="cost-detail" value="• Cost/Performance&#xa;• Budget Controls&#xa;• Token Tracking" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="290" y="650" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Model Gateway -->
        <mxCell id="model-gateway" value="Model Gateway (AB-051)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="490" width="360" height="80" as="geometry" />
        </mxCell>

        <mxCell id="gateway-detail" value="Unified API Abstraction • Provider Translation • Authentication" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="790" y="540" width="340" height="20" as="geometry" />
        </mxCell>

        <!-- Fallback Handler -->
        <mxCell id="fallback-handler" value="Fallback Handler&#xa;(AB-053)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="610" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="fallback-detail" value="• Circuit Breaker&#xa;• Automatic Retry&#xa;• Failover Chain" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="790" y="650" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Performance Monitor -->
        <mxCell id="perf-monitor" value="Performance Monitor&#xa;(AB-055)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1000" y="610" width="180" height="80" as="geometry" />
        </mxCell>

        <mxCell id="monitor-detail" value="• Quality Metrics&#xa;• Latency Tracking&#xa;• Cost Analytics" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1010" y="650" width="160" height="35" as="geometry" />
        </mxCell>

        <!-- Rate Limit Manager -->
        <mxCell id="rate-limit" value="Rate Limit&#xa;Manager&#xa;(AB-057)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=11;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1220" y="490" width="140" height="80" as="geometry" />
        </mxCell>

        <!-- Model Version Manager -->
        <mxCell id="version-manager" value="Model Version&#xa;Manager&#xa;(AB-058)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=11;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1220" y="610" width="140" height="80" as="geometry" />
        </mxCell>

        <!-- LLM Provider Layer -->
        <mxCell id="provider-layer" value="LLM Provider Layer" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6F9F0;strokeColor=#00A651;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Calibri;fontColor=#003087;verticalAlign=top;align=center;" vertex="1" parent="1">
          <mxGeometry x="200" y="780" width="2000" height="260" as="geometry" />
        </mxCell>

        <!-- OpenAI GPT-4 -->
        <mxCell id="provider-openai" value="OpenAI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="840" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="openai-models" value="GPT-4 Turbo&#xa;GPT-3.5 Turbo" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="280" y="870" width="180" height="25" as="geometry" />
        </mxCell>

        <mxCell id="openai-char" value="Premium Quality" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="295" y="920" width="150" height="25" as="geometry" />
        </mxCell>

        <mxCell id="openai-cost" value="Cost: $$$" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="295" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <mxCell id="openai-latency" value="Latency: Med" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="375" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <!-- Anthropic Claude -->
        <mxCell id="provider-anthropic" value="Anthropic" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="840" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="anthropic-models" value="Claude 3 Opus&#xa;Claude 3 Sonnet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="500" y="870" width="180" height="25" as="geometry" />
        </mxCell>

        <mxCell id="anthropic-char" value="Complex Reasoning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="515" y="920" width="150" height="25" as="geometry" />
        </mxCell>

        <mxCell id="anthropic-cost" value="Cost: $$" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="515" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <mxCell id="anthropic-latency" value="Latency: Med" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="595" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <!-- AWS Bedrock -->
        <mxCell id="provider-azure" value="AWS Bedrock" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="720" y="840" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="azure-models" value="GPT-4&#xa;Enterprise Compliance" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="720" y="870" width="180" height="25" as="geometry" />
        </mxCell>

        <mxCell id="azure-char" value="Private Cloud" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="735" y="920" width="150" height="25" as="geometry" />
        </mxCell>

        <mxCell id="azure-cost" value="Cost: $$$" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="735" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <mxCell id="azure-latency" value="Latency: Low" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="815" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <!-- AWS Bedrock -->
        <mxCell id="provider-bedrock" value="AWS Bedrock" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="940" y="840" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="bedrock-models" value="Multiple Models&#xa;Managed Service" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="940" y="870" width="180" height="25" as="geometry" />
        </mxCell>

        <mxCell id="bedrock-char" value="Multi-Provider" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="955" y="920" width="150" height="25" as="geometry" />
        </mxCell>

        <mxCell id="bedrock-cost" value="Cost: $$" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="955" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <mxCell id="bedrock-latency" value="Latency: Med" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1035" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <!-- Local Llama -->
        <mxCell id="provider-llama" value="Local Llama" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1160" y="840" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="llama-models" value="Llama 3 8B/70B&#xa;On-Premises" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1160" y="870" width="180" height="25" as="geometry" />
        </mxCell>

        <mxCell id="llama-char" value="Data Sovereignty" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1175" y="920" width="150" height="25" as="geometry" />
        </mxCell>

        <mxCell id="llama-cost" value="Cost: $" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1175" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <mxCell id="llama-latency" value="Latency: Low" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1255" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <!-- Cohere -->
        <mxCell id="provider-cohere" value="Cohere" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1380" y="840" width="180" height="60" as="geometry" />
        </mxCell>

        <mxCell id="cohere-models" value="Command R+&#xa;Specialized Models" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1380" y="870" width="180" height="25" as="geometry" />
        </mxCell>

        <mxCell id="cohere-char" value="Enterprise RAG" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1395" y="920" width="150" height="25" as="geometry" />
        </mxCell>

        <mxCell id="cohere-cost" value="Cost: $$" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1395" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <mxCell id="cohere-latency" value="Latency: Med" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#003087;strokeColor=#003087;strokeWidth=1;fontSize=9;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1475" y="950" width="70" height="20" as="geometry" />
        </mxCell>

        <!-- Cross-Cutting Concerns -->
        <mxCell id="crosscut-layer" value="Cross-Cutting Concerns" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFF0E6;strokeColor=#FF6B35;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Calibri;fontColor=#003087;verticalAlign=top;align=center;" vertex="1" parent="1">
          <mxGeometry x="200" y="1100" width="2000" height="300" as="geometry" />
        </mxCell>

        <!-- AI Governance -->
        <mxCell id="governance" value="AI Governance Platform&#xa;(AB-060)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="1160" width="300" height="80" as="geometry" />
        </mxCell>

        <mxCell id="governance-detail" value="• Compliance Tracking • Risk Management • Model Audit • Policy Enforcement" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="285" y="1210" width="290" height="25" as="geometry" />
        </mxCell>

        <!-- Security & Identity -->
        <mxCell id="security" value="Security &amp; Identity&#xa;(AB-112)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="1160" width="300" height="80" as="geometry" />
        </mxCell>

        <mxCell id="security-detail" value="• Authentication • Authorization • API Key Mgmt • Data Encryption" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="625" y="1210" width="290" height="25" as="geometry" />
        </mxCell>

        <!-- Observability -->
        <mxCell id="observability" value="Observability Platform&#xa;(AB-096)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="960" y="1160" width="300" height="80" as="geometry" />
        </mxCell>

        <mxCell id="observability-detail" value="• Monitoring • Logging • Distributed Tracing • Alerting • Metrics" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="965" y="1210" width="290" height="25" as="geometry" />
        </mxCell>

        <!-- FinOps -->
        <mxCell id="finops" value="FinOps &amp; Cost Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="1280" width="300" height="80" as="geometry" />
        </mxCell>

        <mxCell id="finops-detail" value="• Budget Tracking • Cost Attribution • Spend Optimization • Chargebacks" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="285" y="1330" width="290" height="25" as="geometry" />
        </mxCell>

        <!-- Data Classification -->
        <mxCell id="data-class" value="Data Classification Engine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="1280" width="300" height="80" as="geometry" />
        </mxCell>

        <mxCell id="dataclass-detail" value="• Sensitive Data Detection • Residency Rules • PII Handling • Compliance" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="625" y="1330" width="290" height="25" as="geometry" />
        </mxCell>

        <!-- Quality Management -->
        <mxCell id="quality-mgmt" value="Quality Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;fontSize=12;fontFamily=Calibri;fontColor=#FFFFFF;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="960" y="1280" width="300" height="80" as="geometry" />
        </mxCell>

        <mxCell id="quality-detail" value="• A/B Testing • Quality Scoring • User Feedback • Model Comparison" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="965" y="1330" width="290" height="25" as="geometry" />
        </mxCell>

        <!-- Control Flow Arrows -->

        <!-- App to Router -->
        <mxCell id="arrow-app-router" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#003087;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="app-client-2" target="model-router">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="380" as="sourcePoint" />
            <mxPoint x="620" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="label-app-router" value="LLM Request" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Calibri;fontColor=#003087;fontStyle=1;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow-app-router">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint x="2" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Cache Check -->
        <mxCell id="arrow-router-cache" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#003087;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="model-router" target="response-cache">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="520" as="sourcePoint" />
            <mxPoint x="550" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="label-cache-check" value="Cache Check" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Calibri;fontColor=#003087;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow-router-cache">
          <mxGeometry x="0.1" y="1" relative="1" as="geometry">
            <mxPoint x="5" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Cost Check -->
        <mxCell id="arrow-router-cost" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#003087;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="model-router" target="cost-optimizer">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="640" as="sourcePoint" />
            <mxPoint x="550" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="label-cost-check" value="Cost Check" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Calibri;fontColor=#003087;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow-router-cost">
          <mxGeometry x="0.1" y="1" relative="1" as="geometry">
            <mxPoint x="5" y="9" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Router to Gateway -->
        <mxCell id="arrow-router-gateway" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#003087;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="model-router" target="model-gateway">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="720" y="570" as="sourcePoint" />
            <mxPoint x="770" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="label-router-gateway" value="Route to Model" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Calibri;fontColor=#003087;fontStyle=1;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow-router-gateway">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="5" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Gateway to Providers -->
        <mxCell id="arrow-gateway-openai" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#00A651;exitX=0.15;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="model-gateway" target="provider-openai">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="600" as="sourcePoint" />
            <mxPoint x="870" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-gateway-anthropic" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#00A651;exitX=0.3;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="model-gateway" target="provider-anthropic">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="870" y="600" as="sourcePoint" />
            <mxPoint x="920" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-gateway-azure" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#00A651;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="model-gateway" target="provider-azure">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="600" as="sourcePoint" />
            <mxPoint x="1000" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-gateway-bedrock" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#00A651;exitX=0.7;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="model-gateway" target="provider-bedrock">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1020" y="600" as="sourcePoint" />
            <mxPoint x="1070" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-gateway-llama" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#00A651;exitX=0.85;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="model-gateway" target="provider-llama">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1100" y="600" as="sourcePoint" />
            <mxPoint x="1150" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Fallback Handler Connection -->
        <mxCell id="arrow-gateway-fallback" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#FF6B35;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=5 5;" edge="1" parent="1" source="model-gateway" target="fallback-handler">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="960" y="590" as="sourcePoint" />
            <mxPoint x="1010" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="label-fallback" value="On Failure" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Calibri;fontColor=#FF6B35;fontStyle=1;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow-gateway-fallback">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="10" y="5" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Performance Monitoring -->
        <mxCell id="arrow-gateway-monitor" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#003087;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="model-gateway" target="perf-monitor">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1160" y="540" as="sourcePoint" />
            <mxPoint x="1210" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="label-monitor" value="Metrics" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Calibri;fontColor=#003087;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow-gateway-monitor">
          <mxGeometry x="0.1" y="1" relative="1" as="geometry">
            <mxPoint x="-5" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Rate Limit Connection -->
        <mxCell id="arrow-gateway-ratelimit" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#003087;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="model-gateway" target="rate-limit">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1150" y="510" as="sourcePoint" />
            <mxPoint x="1200" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Response Path -->
        <mxCell id="arrow-provider-gateway" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#00A651;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="provider-azure" target="model-gateway">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="810" y="750" as="sourcePoint" />
            <mxPoint x="860" y="700" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="label-response" value="Response" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Calibri;fontColor=#00A651;fontStyle=1;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow-provider-gateway">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="10" y="10" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Response to App -->
        <mxCell id="arrow-gateway-app" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#003087;exitX=0.3;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="model-gateway" target="app-client-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="850" y="420" as="sourcePoint" />
            <mxPoint x="900" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="label-response-app" value="Response" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontFamily=Calibri;fontColor=#003087;fontStyle=1;backgroundColor=#FFFFFF;" vertex="1" connectable="0" parent="arrow-gateway-app">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="-10" y="10" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Cross-cutting concerns connections (lightweight) -->
        <mxCell id="arrow-all-observability" value="" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#999999;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=2 4;" edge="1" parent="1" source="routing-layer" target="observability">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1200" y="900" as="sourcePoint" />
            <mxPoint x="1250" y="850" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-all-security" value="" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#999999;exitX=0.3;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=2 4;" edge="1" parent="1" source="routing-layer" target="security">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="900" as="sourcePoint" />
            <mxPoint x="820" y="850" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-all-governance" value="" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#999999;exitX=0.15;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;dashPattern=2 4;" edge="1" parent="1" source="routing-layer" target="governance">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="430" y="900" as="sourcePoint" />
            <mxPoint x="480" y="850" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-container" value="Legend" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#003087;strokeWidth=2;fontSize=14;fontStyle=1;fontFamily=Calibri;fontColor=#003087;verticalAlign=top;align=left;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="1640" y="1100" width="540" height="300" as="geometry" />
        </mxCell>

        <!-- Legend Items -->
        <mxCell id="legend-title" value="Component Types:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="1130" width="200" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend-integration" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF6B35;strokeColor=#003087;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1670" y="1160" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-integration-text" value="Integration ABBs" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1760" y="1162" width="150" height="26" as="geometry" />
        </mxCell>

        <mxCell id="legend-provider" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#00A651;strokeColor=#003087;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1670" y="1200" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-provider-text" value="LLM Providers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1760" y="1202" width="150" height="26" as="geometry" />
        </mxCell>

        <mxCell id="legend-app" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#50E6FF;strokeColor=#003087;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1670" y="1240" width="80" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-app-text" value="Applications" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1760" y="1242" width="150" height="26" as="geometry" />
        </mxCell>

        <mxCell id="legend-flow-title" value="Data Flows:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="1280" width="200" height="25" as="geometry" />
        </mxCell>

        <mxCell id="legend-primary-arrow" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#003087;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1670" y="1320" as="sourcePoint" />
            <mxPoint x="1750" y="1320" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="legend-primary-text" value="Primary Request/Response" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1760" y="1307" width="180" height="26" as="geometry" />
        </mxCell>

        <mxCell id="legend-control-arrow" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#003087;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1670" y="1350" as="sourcePoint" />
            <mxPoint x="1750" y="1350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="legend-control-text" value="Control/Monitoring Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1760" y="1337" width="180" height="26" as="geometry" />
        </mxCell>

        <mxCell id="legend-crosscut-arrow" value="" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#999999;dashed=1;dashPattern=2 4;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1670" y="1380" as="sourcePoint" />
            <mxPoint x="1750" y="1380" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="legend-crosscut-text" value="Cross-Cutting Concerns" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1760" y="1367" width="180" height="26" as="geometry" />
        </mxCell>

        <!-- Key Benefits Box -->
        <mxCell id="benefits-box" value="Pattern Benefits" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E6F2FF;strokeColor=#003087;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Calibri;fontColor=#003087;verticalAlign=top;align=left;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="1640" y="260" width="540" height="180" as="geometry" />
        </mxCell>

        <mxCell id="benefit-1" value="✓ Vendor Independence - Avoid lock-in, leverage multiple providers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="290" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="benefit-2" value="✓ Cost Optimization - 60-75% savings through intelligent routing" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="315" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="benefit-3" value="✓ Resilience - 99.9%+ availability through automatic failover" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="340" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="benefit-4" value="✓ Performance - Route to optimal model for latency/quality/cost" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="365" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="benefit-5" value="✓ Flexibility - Adopt new models without application changes" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="390" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="benefit-6" value="✓ Compliance - Data classification-based routing for sovereignty" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="415" width="500" height="20" as="geometry" />
        </mxCell>

        <!-- Routing Decision Box -->
        <mxCell id="decision-box" value="Routing Decision Factors" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF5F0;strokeColor=#FF6B35;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Calibri;fontColor=#003087;verticalAlign=top;align=left;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="1640" y="480" width="540" height="180" as="geometry" />
        </mxCell>

        <mxCell id="factor-1" value="• Task Type - Code generation, summarization, classification, reasoning" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="510" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="factor-2" value="• Cost Constraints - Budget limits, token usage, pricing tiers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="535" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="factor-3" value="• Latency Requirements - Real-time (&lt;500ms) vs batch processing" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="560" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="factor-4" value="• Quality SLA - Minimum quality score, customer-facing vs internal" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="585" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="factor-5" value="• Data Classification - Sensitivity, residency requirements, compliance" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="610" width="500" height="20" as="geometry" />
        </mxCell>

        <mxCell id="factor-6" value="• Provider Health - Availability, rate limits, response times" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="635" width="500" height="20" as="geometry" />
        </mxCell>

        <!-- Metrics Box -->
        <mxCell id="metrics-box" value="Performance Targets" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E6F9F0;strokeColor=#00A651;strokeWidth=2;fontSize=12;fontStyle=1;fontFamily=Calibri;fontColor=#003087;verticalAlign=top;align=left;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="1640" y="700" width="540" height="180" as="geometry" />
        </mxCell>

        <mxCell id="metric-1" value="• Routing Decision: &lt;50ms (p95)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="730" width="240" height="20" as="geometry" />
        </mxCell>

        <mxCell id="metric-2" value="• Gateway Overhead: &lt;100ms (p95)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="755" width="240" height="20" as="geometry" />
        </mxCell>

        <mxCell id="metric-3" value="• Cache Hit Rate: &gt;30%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="780" width="240" height="20" as="geometry" />
        </mxCell>

        <mxCell id="metric-4" value="• Availability: &gt;99.9%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1910" y="730" width="240" height="20" as="geometry" />
        </mxCell>

        <mxCell id="metric-5" value="• Cost Reduction: &gt;60%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1910" y="755" width="240" height="20" as="geometry" />
        </mxCell>

        <mxCell id="metric-6" value="• Quality Degradation: &lt;5%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1910" y="780" width="240" height="20" as="geometry" />
        </mxCell>

        <mxCell id="metric-7" value="• Fallback Success: &gt;99%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1660" y="805" width="240" height="20" as="geometry" />
        </mxCell>

        <mxCell id="metric-8" value="• Vendor Concentration: &lt;50%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;" vertex="1" parent="1">
          <mxGeometry x="1910" y="805" width="240" height="20" as="geometry" />
        </mxCell>

        <mxCell id="metric-summary" value="Target: 60-75% cost savings with &lt;5% quality degradation" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Calibri;fontColor=#003087;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="1660" y="835" width="490" height="30" as="geometry" />
        </mxCell>

        <!-- Footer -->
        <mxCell id="footer" value="BNZ Visual Design Standards v1.0 | WCAG 2.1 AA Compliant | © 2025 Bank of New Zealand" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontFamily=Calibri;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="50" y="1500" width="2300" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
